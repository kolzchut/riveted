/*!
 * @preserve
 * riveted.js | v0.6.0
 * Copyright (c) 2015 Rob Flaherty (@robflaherty)
 * Licensed under the MIT license
 */
var riveted=function(){function e(e){e=e||{},g=parseInt(e.reportInterval,10)||5,m=parseInt(e.idleTimeout,10)||30,y="boolean"==typeof e.userTiming?e.userTiming:!0,w="boolean"==typeof e.reportOnce?e.reportOnce:!1,R=e.gaGlobal||"ga","function"==typeof window[R]&&(I=!0),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(h=!0),"undefined"!=typeof dataLayer&&"function"==typeof dataLayer.push&&(b=!0),k="gaTracker"in e&&"string"==typeof e.gaTracker?e.gaTracker+".send":"send","function"==typeof e.eventHandler&&(s=e.eventHandler),"function"==typeof e.userTimingHandler&&(p=e.userTimingHandler),T=!("nonInteraction"in e)||e.nonInteraction!==!1&&"false"!==e.nonInteraction,t(document,"keydown",f),t(document,"click",f),t(window,"mousemove",n(f,500)),t(window,"scroll",n(f,500)),t(document,"visibilitychange",o),t(document,"webkitvisibilitychange",o)}function n(e,n){var t,i,o,a=null,r=0,u=function(){r=new Date,a=null,o=e.apply(t,i)};return function(){var c=new Date;r||(r=c);var l=n-(c-r);return t=this,i=arguments,0>=l?(clearTimeout(a),a=null,r=c,o=e.apply(t,i)):a||(a=setTimeout(u,l)),o}}function t(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}function i(){clearTimeout(q),r()}function o(){(document.hidden||document.webkitHidden)&&i()}function a(){E+=1,E>0&&E%g===0&&s(E)}function r(){_=!0,clearInterval(S)}function u(){i(),D=!0}function c(){D=!1}function l(){_=!1,clearInterval(S),S=setInterval(a,1e3)}function d(){var e=new Date,n=e-H;L=!0,p(n),S=setInterval(a,1e3)}function v(){H=new Date,E=0,L=!1,_=!1,clearInterval(S),clearTimeout(q)}function f(){D||(L||d(),_&&l(),clearTimeout(q),q=setTimeout(i,1e3*m+100))}var s,p,g,m,y,T,w,I,h,k,b,R,L=!1,_=!1,D=!1,E=0,H=new Date,S=null,q=null;return p=function(e){y!==!1&&(b?dataLayer.push({event:"RivetedTiming",eventCategory:"Riveted",timingVar:"First Interaction",timingValue:e}):(I&&window[R](k,"timing","Riveted","First Interaction",e),h&&_gaq.push(["_trackTiming","Riveted","First Interaction",e,null,100])))},s=function(e){b?dataLayer.push({event:"Riveted",eventCategory:"Riveted",eventAction:"Time Spent",eventLabel:e,eventValue:g,eventNonInteraction:T}):(I&&window[R](k,"event","Riveted","Time Spent",e.toString(),g,{nonInteraction:T}),h&&_gaq.push(["_trackEvent","Riveted","Time Spent",e.toString(),g,T])),w&&u()},{init:e,trigger:f,setIdle:i,on:c,off:u,reset:v}}();riveted.init(riveted_options);